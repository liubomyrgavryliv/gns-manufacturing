{% load slippers %}

<nav class="bg-black sticky min-h-2 sm:min-h-3 top-0 z-20 w-full shadow-lg shadow-gray-500/50 px-4 lg:px-6 py-2.5">
    <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl text-white">
        <a href="{% url 'workflow:home' %}" class="flex items-center">
            <span class="self-center text-xl font-semibold whitespace-nowrap">Gavryliv&Sons</span>
        </a>

        <div class="flex items-center md:order-2">
            {% if not user.is_authenticated %}
              {% url 'login' as link %}
              {% #secondary-button label="Log In" hx_get=link %}
              {% /secondary-button %}
            {% endif %}

            {% if user.is_authenticated %}
              <div class="text-xs md:text-base font-semibold mr-2">
                {{ user.username }}
              </div>
              {% url 'logout' as link %}
              {% #secondary-button label="Log Out" hx_get=link %}
              {% /secondary-button %}
            {% endif %}

          <div class="md:hidden">
            {% #dropdown variant="gray" icon="<span class='pointer-events-none mdi mdi-menu'></span>" dropdown_class="left-auto right-0" %}
              <a class="text-sm
                        py-2
                        px-4
                        font-normal
                        block
                        w-full
                        whitespace-nowrap
                        bg-transparent
                        text-gray-700
                        hover:bg-gray-200"
                  href="{% url 'workflow:home' %}">
                  Головна
              </a>
              <a class="text-sm
                        py-2
                        px-4
                        font-normal
                        block
                        w-full
                        whitespace-nowrap
                        bg-transparent
                        text-gray-700
                        hover:bg-gray-200"
                  href="{% url 'workflow:orders-list' %}">
                Замовлення
              </a>

              <a class="text-sm
                        py-2
                        px-4
                        font-normal
                        block
                        w-full
                        whitespace-nowrap
                        bg-transparent
                        text-gray-700
                        hover:bg-gray-200"
                  href="{% url 'admin:login' %}">
                Адміністрація
              </a>
            {% /dropdown%}
          </div>
        </div>

        <div class="hidden justify-between items-center w-full md:flex md:w-auto md:order-1">
            <ul class="flex flex-col mt-4 font-medium md:flex-row md:space-x-8 md:mt-0 uppercase text-sm lg:text-base">
                <li>
                    <a href="{% url 'workflow:home' %}" class="transition-colors duration-150 ease-in-out block py-2 pr-4 pl-3 rounded hover:text-gray-200 lg:p-0 text-{% if request.resolver_match.view_name == 'workflow:home' %}white {% else %}gray-700 {% endif %}" aria-current="page">Головна</a>
                </li>
                <li>
                    <a href="{% url 'workflow:orders-list' %}" class="transition-colors duration-150 ease-in-out block py-2 pr-4 pl-3 rounded hover:text-gray-200 lg:p-0 text-{% if request.resolver_match.view_name in 'workflow:orders-list,workflow:orders' %}white {% else %}gray-700 {% endif %}">Замовлення</a>
                </li>
                <li>
                    <a href="{% url 'admin:login' %}" class="transition-colors duration-150 ease-in-out block py-2 pr-4 pl-3 rounded hover:text-gray-200 lg:p-0 text-{% if request.resolver_match.view_name == 'admin:login' %}white {% else %}gray-700 {% endif %}">Адміністрація</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
